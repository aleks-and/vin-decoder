(this["webpackJsonpvin-decoder"]=this["webpackJsonpvin-decoder"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(17),i=a.n(n),r=a(6),l=a(3),d=a(2),j=a(7),b=a.n(j),o=a(20),h=a(8),u=a(9),m="https://vpic.nhtsa.dot.gov/api",O=function(e){return fetch("".concat(m,"/vehicles/decodevin/").concat(e,"?format=json")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},x=function(){return fetch("".concat(m,"/vehicles/getvehiclevariablelist?format=json")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},v=(a(26),a(0)),_=function(e){var t=e.isDecoding,a=e.setIsDecoding,c=e.setDecodedVinData,n=e.decodedVinData,i=e.searchInput,r=e.setSearchInput,l=e.previousVinCode,d=e.setPreviousVinCode,j=Object(s.useContext)(R).setLastSearchResults,m=function(){var e=Object(u.a)(b.a.mark((function e(t){var s,u,m,x,v;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b=i.value,s=/^[A-Z0-9]{17}$/.test(b.trim()),r(Object(h.a)(Object(h.a)({},i),{},{isValid:s})),s&&l!==i.value){e.next=5;break}return e.abrupt("return");case 5:return a(!0),d(i.value),e.prev=7,e.next=10,O(i.value);case 10:u=e.sent,m=u.Results,x=u.Message,v=m.filter((function(e){var t=e.Value;return null!==t&&""!==t})),c({isError:!1,isLoaded:!0,data:v,code:i.value,message:x}),j((function(e){return[{data:v,message:x,code:i.value}].concat(Object(o.a)(e.slice(0,4)))})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),c(Object(h.a)(Object(h.a)({},n),{},{isError:!0,isLoaded:!1}));case 21:return e.prev=21,a(!1),e.finish(21);case 24:case"end":return e.stop()}var b}),e,null,[[7,18,21,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"search-form",children:[Object(v.jsx)("h2",{className:"search-form__title",children:"Search"}),Object(v.jsxs)("form",{className:"search-form__form",onSubmit:function(e){return m(e)},children:[Object(v.jsx)("input",{value:i.value,onChange:function(e){r({isValid:!0,value:e.target.value})},type:"text",placeholder:"Enter VIN to decode",maxLength:"17",className:"search-form__input"}),Object(v.jsx)("button",{type:"submit",disabled:t,className:"search-form__button",children:t?"Decoding...":"Decode"})]}),!i.isValid&&Object(v.jsx)("span",{className:"search-form__error",children:"17 characters (A-Z & 0-9)"})]})},N=_,f=(a(28),function(e){var t=e.isDecoding,a=e.decodedVinData,s=a.data,c=a.message,n=a.isLoaded,i=a.isError;return t?Object(v.jsxs)("div",{className:"search-result",children:[Object(v.jsx)("h2",{className:"search-result__title",children:"Decoded VIN data"}),Object(v.jsx)("p",{children:"Decoding..."})]}):i?Object(v.jsxs)("div",{className:"search-result",children:[Object(v.jsx)("h2",{className:"search-result__title",children:"Decoded VIN data"}),Object(v.jsx)("p",{children:"Something went wrong. Please try again later."})]}):n?0===s.length?Object(v.jsxs)("div",{className:"search-result",children:[Object(v.jsx)("h2",{className:"search-result__title",children:"Decoded VIN data"}),Object(v.jsx)("p",{children:"No data for this VIN"})]}):Object(v.jsxs)("div",{className:"search-result",children:[Object(v.jsx)("h2",{className:"search-result__title",children:"Decoded VIN data"}),Object(v.jsx)("p",{children:c}),Object(v.jsxs)("table",{className:"result-table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{className:"result-table__header-row",children:[Object(v.jsx)("th",{className:"result-table__header-cell",children:"Variable name"}),Object(v.jsx)("th",{className:"result-table__header-cell",children:"Variable description"})]})}),Object(v.jsx)("tbody",{children:s.map((function(e){var t=e.Value,a=e.Variable,s=e.VariableId;return Object(v.jsxs)("tr",{className:"result-table__row",children:[Object(v.jsx)("td",{className:"result-table__cell",children:a}),Object(v.jsx)("td",{className:"result-table__cell",children:t})]},s)}))})]})]}):Object(v.jsx)("div",{className:"search-result",children:Object(v.jsx)("h2",{className:"search-result__title",children:"Decoded VIN data"})})}),p=(a(29),function(e){var t=e.setDecodedVinData,a=e.decodedVinData,c=e.setSearchInput,n=e.setPreviousVinCode,i=Object(s.useContext)(R).lastSearchResults;return 0===i.length?Object(v.jsxs)("div",{className:"last-search",children:[Object(v.jsx)("h2",{className:"last-search__title",children:"Last search results"}),Object(v.jsx)("p",{children:"No search performed"})]}):Object(v.jsxs)("div",{className:"last-search",children:[Object(v.jsx)("h2",{className:"last-search__title",children:"Last search results"}),Object(v.jsx)("ul",{className:"last-search__list",children:i.map((function(e,s){var r=e.code,l="last-search__list-item".concat(a.code===r?" last-search__list-item--active":"");return Object(v.jsx)("li",{className:l,onClick:function(){return function(e){var s=i[e].code;a.code!==s&&(t(Object(h.a)({isError:!1,isLoaded:!0},i[e])),n(s),c({value:s,isValid:!0}))}(s)},children:r},s)}))})]})}),V=(a(30),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({data:[],message:null,code:null,isLoaded:!1,isError:!1}),i=Object(l.a)(n,2),r=i[0],d=i[1],j=Object(s.useState)({value:"",isValid:!0}),b=Object(l.a)(j,2),o=b[0],h=b[1],u=Object(s.useState)(o.value),m=Object(l.a)(u,2),O=m[0],x=m[1];return Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("article",{className:"vin-decoder",children:[Object(v.jsx)("h1",{className:"vin-decoder__title",children:"VIN decoder"}),Object(v.jsx)("section",{className:"vin-decoder__search-form",children:Object(v.jsx)(N,{isDecoding:a,setIsDecoding:c,decodedVinData:r,setDecodedVinData:d,searchInput:o,setSearchInput:h,previousVinCode:O,setPreviousVinCode:x})}),Object(v.jsx)("aside",{className:"vin-decoder__last-search",children:Object(v.jsx)(p,{decodedVinData:r,setDecodedVinData:d,setSearchInput:h,setPreviousVinCode:x})}),Object(v.jsx)("section",{className:"vin-decoder__search-result",children:Object(v.jsx)(f,{isDecoding:a,decodedVinData:r})})]})})})}),g=function(e){return{__html:e}},I=(a(31),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(!1),d=Object(l.a)(i,2),j=d[0],o=d[1],h=Object(s.useContext)(y),m=h.isVariablesLoaded,O=h.setIsVariablesLoaded,_=Object(s.useContext)(P),N=_.variables,f=_.setVariables;return Object(s.useEffect)((function(){if(!m&&!a&&!j){var e=function(){var e=Object(u.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),o(!1),e.prev=2,e.next=5,x();case 5:t=e.sent,a=t.Results,f(a),O(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.message,o(!0);case 15:return e.prev=15,n(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}();e()}})),a?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variables",children:[Object(v.jsx)("h1",{className:"variables__title",children:"Variable list"}),Object(v.jsx)("p",{children:"Loading..."})]})})}):j?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variables",children:[Object(v.jsx)("h1",{className:"variables__title",children:"Variable list"}),Object(v.jsx)("p",{children:"Something went wrong. Please try again later."})]})})}):0===N.length?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variables",children:[Object(v.jsx)("h1",{className:"variables__title",children:"Variable list"}),Object(v.jsx)("p",{children:"The variable list is empty."})]})})}):Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variables",children:[Object(v.jsx)("h1",{className:"variables__title",children:"Variable list"}),Object(v.jsx)("dl",{className:"variable-list",children:N.map((function(e){var t=e.ID,a=e.Name,s=e.Description;return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("dt",{className:"variable-list__title",children:Object(v.jsx)(r.b,{className:"variable-list__title-link",to:"/variables/".concat(t),children:a})}),Object(v.jsx)("dd",{className:"variable-list__description",dangerouslySetInnerHTML:g(s)})]},t)}))})]})})})}),D=I,S=(a(40),function(){return Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"not-found",children:[Object(v.jsx)("h1",{className:"not-found__title",children:"404"}),Object(v.jsx)("p",{children:"Page not found"})]})})})}),L={MAIN:"/",VARIABLES:"/variables",VARIABLE:"/variables/:id"},w=(a(41),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),i=Object(l.a)(n,2),j=i[0],o=i[1],h=Object(s.useState)(null),m=Object(l.a)(h,2),O=m[0],_=m[1],N=Object(s.useContext)(y),f=N.isVariablesLoaded,p=N.setIsVariablesLoaded,V=Object(s.useContext)(P),I=V.variables,D=V.setVariables,S=Object(d.g)().id;return Object(s.useEffect)((function(){if(!f&&!a&&!j){var e=function(){var e=Object(u.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),o(!1),e.prev=2,e.next=5,x();case 5:t=e.sent,a=t.Results,D(a),p(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),o(!0);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}})),Object(s.useEffect)((function(){_(I.find((function(e){return e.ID===Number(S)})))}),[O,I,S]),a?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variable",children:[Object(v.jsx)("h1",{className:"variable__title",children:"Variable description"}),Object(v.jsx)("p",{children:"Loading..."})]})})}):j?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variable",children:[Object(v.jsx)("h1",{className:"variable__title",children:"Variable description"}),Object(v.jsx)("p",{children:"Something went wrong. Please try again later."})]})})}):O?Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variable",children:[Object(v.jsx)("h1",{className:"variable__title",children:"Variable description"}),Object(v.jsxs)("dl",{className:"variable-list",children:[Object(v.jsx)("dt",{className:"variable-list__title",children:O.Name}),Object(v.jsx)("dd",{className:"variable-list__description",dangerouslySetInnerHTML:g(O.Description)})]}),Object(v.jsx)("p",{children:Object(v.jsx)(r.b,{to:L.VARIABLES,children:"Back to list"})})]})})}):Object(v.jsx)("main",{className:"main",children:Object(v.jsx)("div",{className:"main__inner",children:Object(v.jsxs)("div",{className:"variable",children:[Object(v.jsx)("h1",{className:"variable__title",children:"Variable description"}),Object(v.jsx)("p",{children:"Variable not found"})]})})})}),C=w,E=(a(42),function(){return Object(v.jsxs)("ul",{className:"menu",children:[Object(v.jsx)("li",{className:"menu__item",children:Object(v.jsx)(r.c,{to:L.MAIN,className:"menu__item-link",activeClassName:"menu__item-link--active",exact:!0,children:"Home"})}),Object(v.jsx)("li",{className:"menu__item",children:Object(v.jsx)(r.c,{to:L.VARIABLES,className:"menu__item-link",activeClassName:"menu__item-link--active",children:"Variables"})})]})}),k=(a(43),function(){return Object(v.jsx)("header",{className:"header",children:Object(v.jsx)("div",{className:"header__inner",children:Object(v.jsx)(E,{})})})}),A=function(){var e=Object(d.f)().pathname;return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},y=c.a.createContext(null),P=c.a.createContext(null),R=c.a.createContext(null),B=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),i=Object(l.a)(n,2),r=i[0],j=i[1],b=Object(s.useState)([]),o=Object(l.a)(b,2),h=o[0],u=o[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{}),Object(v.jsx)(R.Provider,{value:{lastSearchResults:h,setLastSearchResults:u},children:Object(v.jsx)(P.Provider,{value:{variables:r,setVariables:j},children:Object(v.jsxs)(y.Provider,{value:{isVariablesLoaded:a,setIsVariablesLoaded:c},children:[Object(v.jsx)(k,{}),Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{path:L.MAIN,exact:!0,children:Object(v.jsx)(V,{})}),Object(v.jsx)(d.a,{path:L.VARIABLES,exact:!0,children:Object(v.jsx)(D,{})}),Object(v.jsx)(d.a,{path:L.VARIABLE,exact:!0,children:Object(v.jsx)(C,{})}),Object(v.jsx)(d.a,{path:"*",children:Object(v.jsx)(S,{})})]})]})})})]})},T=(a(44),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))});i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(r.a,{children:Object(v.jsx)(B,{})})}),document.getElementById("root")),T()}},[[45,1,2]]]);
//# sourceMappingURL=main.c3a251ba.chunk.js.map