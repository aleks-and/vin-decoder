(this["webpackJsonpvin-decoder"]=this["webpackJsonpvin-decoder"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(14),s=c.n(a),i=c(5),j=c(6),l=c(2),b=c(0),d=function(){return Object(b.jsx)("h1",{children:"Vin Decoder"})},o=c(7),h=c.n(o),u=c(9),O="https://vpic.nhtsa.dot.gov/api",x="/vehicles/getvehiclevariablelist?format=json",f=function(){return fetch("".concat(O).concat(x)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},p=function(e){return{__html:e}},v=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),l=Object(j.a)(s,2),d=l[0],o=l[1],O=Object(n.useContext)(w),x=O.isVariablesLoaded,v=O.setIsVariablesLoaded,g=Object(n.useContext)(E),m=g.variables,V=g.setVariables;return Object(n.useEffect)((function(){if(!x&&!c&&!d){var e=function(){var e=Object(u.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),o(!1),e.prev=2,e.next=5,f();case 5:t=e.sent,c=t.Results,V(c),v(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.message,o(!0);case 15:return e.prev=15,a(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}();e()}})),c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable list"}),Object(b.jsx)("p",{children:"Loading..."})]}):d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable list"}),Object(b.jsx)("p",{children:"Something went wrong. Please try again later."})]}):0===m.length?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable list"}),Object(b.jsx)("p",{children:"The variable list is empty."})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable list"}),Object(b.jsx)("dl",{children:m.map((function(e){var t=e.ID,c=e.Name,n=e.Description;return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)("dt",{children:Object(b.jsx)(i.b,{to:"/variables/".concat(t),children:c})}),Object(b.jsx)("dd",{dangerouslySetInnerHTML:p(n)})]},t)}))})]})},g=v,m=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"404"}),Object(b.jsx)("p",{children:"Page not found"})]})},V={MAIN:"/",VARIABLES:"/variables",VARIABLE:"/variables/:id"},I=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(j.a)(a,2),d=s[0],o=s[1],O=Object(n.useState)(null),x=Object(j.a)(O,2),v=x[0],g=x[1],m=Object(n.useContext)(w),I=m.isVariablesLoaded,L=m.setIsVariablesLoaded,S=Object(n.useContext)(E),A=S.variables,F=S.setVariables,C=Object(l.g)().id;return Object(n.useEffect)((function(){if(!I&&!c&&!d){var e=function(){var e=Object(u.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),o(!1),e.prev=2,e.next=5,f();case 5:t=e.sent,c=t.Results,F(c),L(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),o(!0);case 14:return e.prev=14,r(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}})),Object(n.useEffect)((function(){g(A.find((function(e){return e.ID===Number(C)})))}),[v,A,C]),c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable description"}),Object(b.jsx)("p",{children:"Loading..."})]}):d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable description"}),Object(b.jsx)("p",{children:"Something went wrong. Please try again later."})]}):v?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable description"}),Object(b.jsxs)("dl",{children:[Object(b.jsx)("dt",{children:v.Name}),Object(b.jsx)("dd",{dangerouslySetInnerHTML:p(v.Description)})]}),Object(b.jsx)("p",{children:Object(b.jsx)(i.b,{to:V.VARIABLES,children:"Back to list"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Variable description"}),Object(b.jsx)("p",{children:"Variable not found"})]})},L=I,S=function(){return Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:V.MAIN,activeClassName:"active",exact:!0,children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:V.VARIABLES,activeClassName:"active",children:"Variables"})})]})},A=(c(31),function(){return Object(b.jsx)("header",{className:"header",children:Object(b.jsx)(S,{})})}),F=function(){var e=Object(l.f)().pathname;return Object(n.useEffect)((function(){console.log(e,"pathname"),window.scrollTo(0,0)}),[e]),null},w=r.a.createContext(null),E=r.a.createContext(null),C=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),i=s[0],o=s[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F,{}),Object(b.jsx)(E.Provider,{value:{variables:i,setVariables:o},children:Object(b.jsxs)(w.Provider,{value:{isVariablesLoaded:c,setIsVariablesLoaded:r},children:[Object(b.jsx)(A,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:V.MAIN,exact:!0,children:Object(b.jsx)(d,{})}),Object(b.jsx)(l.a,{path:V.VARIABLES,exact:!0,children:Object(b.jsx)(g,{})}),Object(b.jsx)(l.a,{path:V.VARIABLE,exact:!0,children:Object(b.jsx)(L,{})}),Object(b.jsx)(l.a,{path:"*",children:Object(b.jsx)(m,{})})]})]})})]})},B=(c(32),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))});s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(i.a,{basename:"vin-decoder",children:Object(b.jsx)(C,{})})}),document.getElementById("root")),B()}},[[33,1,2]]]);
//# sourceMappingURL=main.e2fb35c1.chunk.js.map